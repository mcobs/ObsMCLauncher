<Page x:Class="ObsMCLauncher.Pages.VersionDownloadPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      mc:Ignorable="d" 
      d:DesignHeight="700" d:DesignWidth="900"
      Background="{StaticResource BackgroundBrush}">

    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 标题区域 -->
        <StackPanel Grid.Row="0">
            <TextBlock Text="版本下载" 
                     FontSize="28" 
                     FontWeight="Bold"
                     Margin="0,0,0,10"/>
            <TextBlock Text="选择想要下载的 Minecraft 版本，点击进入配置加载器选项" 
                     FontSize="14" 
                     Foreground="{StaticResource TextSecondaryBrush}"
                     Margin="0,0,0,25"/>
        </StackPanel>

        <!-- 筛选和搜索区域 -->
        <Border Grid.Row="1"
                Background="{StaticResource SurfaceBrush}"
                CornerRadius="10"
                Padding="20"
                Margin="0,0,0,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 搜索框 -->
                <TextBox Grid.Column="0"
                       x:Name="SearchBox"
                       materialDesign:HintAssist.Hint="搜索版本号..."
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       Margin="0,0,15,0"
                       TextChanged="SearchBox_TextChanged">
                    <TextBox.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </TextBox.Resources>
                </TextBox>

                <!-- 版本类型筛选 -->
                <ComboBox Grid.Column="1"
                        x:Name="VersionTypeComboBox"
                        Width="150"
                        materialDesign:HintAssist.Hint="版本类型"
                        Style="{StaticResource MaterialDesignOutlinedComboBox}"
                        Margin="0,0,15,0"
                        SelectionChanged="VersionTypeComboBox_SelectionChanged">
                    <ComboBoxItem Content="全部版本" IsSelected="True"/>
                    <ComboBoxItem Content="正式版"/>
                    <ComboBoxItem Content="快照版"/>
                    <ComboBoxItem Content="远古版"/>
                </ComboBox>

                <!-- 刷新按钮 -->
                <Button Grid.Column="2"
                      Style="{StaticResource MaterialDesignIconButton}"
                      ToolTip="刷新版本列表"
                      Click="RefreshButton_Click">
                    <materialDesign:PackIcon Kind="Refresh" Width="24" Height="24"/>
                </Button>
            </Grid>
        </Border>

        <!-- 版本列表 -->
        <Border Grid.Row="2"
                Background="{StaticResource SurfaceBrush}"
                CornerRadius="10">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel x:Name="VersionListPanel" Margin="0,10">
                    
                    <!-- 版本项模板 - 1.20.4 -->
                    <Button Click="VersionItem_Click"
                          Tag="1.20.4"
                          Style="{StaticResource MaterialDesignFlatButton}"
                          HorizontalContentAlignment="Stretch"
                          Padding="0"
                          Margin="10">
                        <Border Background="{StaticResource SurfaceElevatedBrush}"
                                CornerRadius="8"
                                Padding="20">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <materialDesign:PackIcon Grid.Column="0"
                                                       Kind="Cube"
                                                       Width="40"
                                                       Height="40"
                                                       Foreground="{StaticResource PrimaryBrush}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,20,0"/>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock FontSize="18" FontWeight="SemiBold">
                                        <Run Text="Minecraft 1.20.4"/>
                                        <Run Text="[正式版]" 
                                             Foreground="{StaticResource PrimaryBrush}" 
                                             FontSize="13"/>
                                    </TextBlock>
                                    <TextBlock FontSize="13" 
                                             Foreground="{StaticResource TextSecondaryBrush}"
                                             Margin="0,5,0,0">
                                        <Run Text="发布日期: 2023-12-07"/>
                                        <Run Text=" | "/>
                                        <Run Text="大小: 约 250 MB"/>
                                    </TextBlock>
                                </StackPanel>

                                <materialDesign:PackIcon Grid.Column="2"
                                                       Kind="ChevronRight"
                                                       Width="24"
                                                       Height="24"
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </Button>

                    <!-- 版本项模板 - 1.20.1 (已安装) -->
                    <Button Click="VersionItem_Click"
                          Tag="1.20.1"
                          Style="{StaticResource MaterialDesignFlatButton}"
                          HorizontalContentAlignment="Stretch"
                          Padding="0"
                          Margin="10">
                        <Border Background="{StaticResource SurfaceElevatedBrush}"
                                CornerRadius="8"
                                Padding="20">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <materialDesign:PackIcon Grid.Column="0"
                                                       Kind="CheckCircle"
                                                       Width="40"
                                                       Height="40"
                                                       Foreground="{StaticResource PrimaryBrush}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,20,0"/>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock FontSize="18" FontWeight="SemiBold">
                                        <Run Text="Minecraft 1.20.1"/>
                                        <Run Text="[正式版]" 
                                             Foreground="{StaticResource PrimaryBrush}" 
                                             FontSize="13"/>
                                        <Run Text="[已安装]" 
                                             Foreground="{StaticResource SecondaryBrush}" 
                                             FontSize="13"/>
                                    </TextBlock>
                                    <TextBlock FontSize="13" 
                                             Foreground="{StaticResource TextSecondaryBrush}"
                                             Margin="0,5,0,0">
                                        <Run Text="发布日期: 2023-06-12"/>
                                        <Run Text=" | "/>
                                        <Run Text="已安装 Forge 47.2.0"/>
                                    </TextBlock>
                                </StackPanel>

                                <materialDesign:PackIcon Grid.Column="2"
                                                       Kind="ChevronRight"
                                                       Width="24"
                                                       Height="24"
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </Button>

                    <!-- 版本项模板 - 1.19.4 -->
                    <Button Click="VersionItem_Click"
                          Tag="1.19.4"
                          Style="{StaticResource MaterialDesignFlatButton}"
                          HorizontalContentAlignment="Stretch"
                          Padding="0"
                          Margin="10">
                        <Border Background="{StaticResource SurfaceElevatedBrush}"
                                CornerRadius="8"
                                Padding="20">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <materialDesign:PackIcon Grid.Column="0"
                                                       Kind="Cube"
                                                       Width="40"
                                                       Height="40"
                                                       Foreground="{StaticResource PrimaryBrush}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,20,0"/>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock FontSize="18" FontWeight="SemiBold">
                                        <Run Text="Minecraft 1.19.4"/>
                                        <Run Text="[正式版]" 
                                             Foreground="{StaticResource PrimaryBrush}" 
                                             FontSize="13"/>
                                    </TextBlock>
                                    <TextBlock FontSize="13" 
                                             Foreground="{StaticResource TextSecondaryBrush}"
                                             Margin="0,5,0,0">
                                        <Run Text="发布日期: 2023-03-14"/>
                                        <Run Text=" | "/>
                                        <Run Text="大小: 约 230 MB"/>
                                    </TextBlock>
                                </StackPanel>

                                <materialDesign:PackIcon Grid.Column="2"
                                                       Kind="ChevronRight"
                                                       Width="24"
                                                       Height="24"
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </Button>

                    <!-- 版本项模板 - 1.18.2 -->
                    <Button Click="VersionItem_Click"
                          Tag="1.18.2"
                          Style="{StaticResource MaterialDesignFlatButton}"
                          HorizontalContentAlignment="Stretch"
                          Padding="0"
                          Margin="10">
                        <Border Background="{StaticResource SurfaceElevatedBrush}"
                                CornerRadius="8"
                                Padding="20">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <materialDesign:PackIcon Grid.Column="0"
                                                       Kind="Cube"
                                                       Width="40"
                                                       Height="40"
                                                       Foreground="{StaticResource PrimaryBrush}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,20,0"/>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock FontSize="18" FontWeight="SemiBold">
                                        <Run Text="Minecraft 1.18.2"/>
                                        <Run Text="[正式版]" 
                                             Foreground="{StaticResource PrimaryBrush}" 
                                             FontSize="13"/>
                                    </TextBlock>
                                    <TextBlock FontSize="13" 
                                             Foreground="{StaticResource TextSecondaryBrush}"
                                             Margin="0,5,0,0">
                                        <Run Text="发布日期: 2022-02-28"/>
                                        <Run Text=" | "/>
                                        <Run Text="大小: 约 220 MB"/>
                                    </TextBlock>
                                </StackPanel>

                                <materialDesign:PackIcon Grid.Column="2"
                                                       Kind="ChevronRight"
                                                       Width="24"
                                                       Height="24"
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </Button>

                    <!-- 版本项模板 - 1.16.5 -->
                    <Button Click="VersionItem_Click"
                          Tag="1.16.5"
                          Style="{StaticResource MaterialDesignFlatButton}"
                          HorizontalContentAlignment="Stretch"
                          Padding="0"
                          Margin="10">
                        <Border Background="{StaticResource SurfaceElevatedBrush}"
                                CornerRadius="8"
                                Padding="20">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <materialDesign:PackIcon Grid.Column="0"
                                                       Kind="Cube"
                                                       Width="40"
                                                       Height="40"
                                                       Foreground="{StaticResource PrimaryBrush}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,20,0"/>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock FontSize="18" FontWeight="SemiBold">
                                        <Run Text="Minecraft 1.16.5"/>
                                        <Run Text="[正式版]" 
                                             Foreground="{StaticResource PrimaryBrush}" 
                                             FontSize="13"/>
                                    </TextBlock>
                                    <TextBlock FontSize="13" 
                                             Foreground="{StaticResource TextSecondaryBrush}"
                                             Margin="0,5,0,0">
                                        <Run Text="发布日期: 2021-01-15"/>
                                        <Run Text=" | "/>
                                        <Run Text="大小: 约 180 MB"/>
                                    </TextBlock>
                                </StackPanel>

                                <materialDesign:PackIcon Grid.Column="2"
                                                       Kind="ChevronRight"
                                                       Width="24"
                                                       Height="24"
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </Button>

                    <!-- 版本项模板 - 1.12.2 -->
                    <Button Click="VersionItem_Click"
                          Tag="1.12.2"
                          Style="{StaticResource MaterialDesignFlatButton}"
                          HorizontalContentAlignment="Stretch"
                          Padding="0"
                          Margin="10">
                        <Border Background="{StaticResource SurfaceElevatedBrush}"
                                CornerRadius="8"
                                Padding="20">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <materialDesign:PackIcon Grid.Column="0"
                                                       Kind="Cube"
                                                       Width="40"
                                                       Height="40"
                                                       Foreground="{StaticResource PrimaryBrush}"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,20,0"/>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock FontSize="18" FontWeight="SemiBold">
                                        <Run Text="Minecraft 1.12.2"/>
                                        <Run Text="[正式版]" 
                                             Foreground="{StaticResource PrimaryBrush}" 
                                             FontSize="13"/>
                                    </TextBlock>
                                    <TextBlock FontSize="13" 
                                             Foreground="{StaticResource TextSecondaryBrush}"
                                             Margin="0,5,0,0">
                                        <Run Text="发布日期: 2017-09-18"/>
                                        <Run Text=" | "/>
                                        <Run Text="大小: 约 150 MB"/>
                                    </TextBlock>
                                </StackPanel>

                                <materialDesign:PackIcon Grid.Column="2"
                                                       Kind="ChevronRight"
                                                       Width="24"
                                                       Height="24"
                                                       Foreground="{StaticResource TextSecondaryBrush}"
                                                       VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </Button>

                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Page>
